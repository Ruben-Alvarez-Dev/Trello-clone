<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/List.jsx - Trello Clone Documentation</title>
    
    <meta name="description" content="Complete documentation for the Trello Clone React application" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/Ruben-Alvarez-Dev/Trello-clone" target="_blank" class="menu-item" id="website_link" >Github</a></h2><h3>Modules</h3><ul><li><a href="module-constants_index.html">constants/index</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-constants_index-APP_CONFIG.html">APP_CONFIG</a></li><li><a href="module-constants_index-CSS_CLASSES.html">CSS_CLASSES</a></li><li><a href="module-constants_index-UI_STRINGS.html">UI_STRINGS</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AddCardorList">AddCardorList</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#DataContext">DataContext</a></li><li><a href="global.html#DataContextValue">DataContextValue</a></li><li><a href="global.html#List">List</a></li><li><a href="global.html#Task">Task</a></li><li><a href="global.html#handleEditTitle">handleEditTitle</a></li><li><a href="global.html#handleRemoveList">handleRemoveList</a></li><li><a href="global.html#handleTitleBlur">handleTitleBlur</a></li><li><a href="global.html#handleTitleChange">handleTitleChange</a></li><li><a href="global.html#initData">initData</a></li><li><a href="global.html#readData">readData</a></li><li><a href="global.html#useLocalStorage">useLocalStorage</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/List.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import './List.css';
import { useState, useContext } from 'react';
import { DataContext } from '../contexts/DataContext';
import trash from '../assets/trash.svg';
import { Task } from './Task';
import { Draggable, Droppable } from 'react-beautiful-dnd';
import { AddCardorList } from './AddCardorList';
import { UI_STRINGS } from '../constants';

/**
 * List component that renders a draggable list containing tasks
 * Provides functionality for editing list title, removing lists, and managing tasks
 * @param {Object} props - Component props
 * @param {Object} props.list - List object containing id, title, and value (task IDs)
 * @param {number} props.index - Index of the list for drag and drop ordering
 * @returns {JSX.Element} Draggable list component with tasks and controls
 */
export const List = ({ list, index }) => {
  const { lists, setLists, tasks, setTasks } = useContext(DataContext);
  const listTasks = list.value.map((taskId) => tasks.find((task) => task.id === taskId)).filter(Boolean);
  const [editable, setEditable] = useState(false);
  const [titleValue, setTitleValue] = useState(list.title);

  /**
   * Removes the current list and all its associated tasks
   * @function handleRemoveList
   */
  const handleRemoveList = () => {
    const listIndex = lists.findIndex((item) => item.id === list.id);
    const updatedLists = [...lists.slice(0, listIndex), ...lists.slice(listIndex + 1)];
    setLists(updatedLists);
    const updatedTasks = tasks.filter((task) => !list.value.includes(task.id));
    setTasks(updatedTasks);
  };

  /**
   * Enables editing mode for the list title
   * @function handleEditTitle
   */
  const handleEditTitle = () => {
    setEditable(true);
  };

  /**
   * Handles changes in the list title input field
   * @function handleTitleChange
   * @param {Event} e - Input change event
   */
  const handleTitleChange = (e) => {
    setTitleValue(e.target.value);
  };

  /**
   * Handles blur event of the list title input and saves changes
   * @function handleTitleBlur
   */
  const handleTitleBlur = () => {
    if (titleValue.trim() !== '') {
      const updatedLists = lists.map((item) => {
        if (item.id === list.id) {
          return { ...item, title: titleValue };
        }
        return item;
      });
      setLists(updatedLists);
    } else {
      setTitleValue(list.title);
    }
    setEditable(false);
  };

  return (
    &lt;div id={list.id} className="list" index={index}>
      &lt;div className="title">
        {editable ? (
          // Input field for editing the list title
          &lt;input
            className='title-input'
            type="text"
            value={titleValue}
            onChange={handleTitleChange}
            onBlur={handleTitleBlur}
            autoFocus
          />
        ) : (
          // Display the list title as a label
          &lt;div className="title-label" onDoubleClick={handleEditTitle}>
            {list.title}
          &lt;/div>
        )}
        {/* Button to remove the list */}
        &lt;div className="title-remove" onClick={handleRemoveList}>
          &lt;img src={trash} alt={UI_STRINGS.REMOVE} />
        &lt;/div>
      &lt;/div>
      &lt;Droppable droppableId={list.id} type="task">
        {(provided) => (
          &lt;div {...provided.droppableProps} ref={provided.innerRef}>
            {/* Render the tasks in the list */}
            {listTasks.map((task, taskIndex) => (
              &lt;Draggable key={task.id} draggableId={task.id} index={taskIndex}>
                {(provided) => (
                  &lt;div
                    ref={provided.innerRef}
                    {...provided.draggableProps}
                    {...provided.dragHandleProps}
                  >
                    &lt;Task task={task} index={taskIndex} />
                  &lt;/div>
                )}
              &lt;/Draggable>
            ))}
            {provided.placeholder}
          &lt;/div>
        )}
      &lt;/Droppable>
      {/* Component to add a new task or list */}
      &lt;AddCardorList type="forTask" list={list} />
    &lt;/div>
  );
};</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Mon Sep 08 2025 05:50:47 GMT+0200 (hora de verano de Europa central) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
